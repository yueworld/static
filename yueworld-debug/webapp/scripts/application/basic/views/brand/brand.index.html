<div class="col-xs-12 p0">
    <div class="ys-product-navbar-action">
        <a href="javascript:void(0)" ui-sref="basic.info.brand.publish">
            <icon name="add-1" width="18px" height="44px"></icon>
            新增品牌
        </a>
    </div>
    <div class="col-xs-12 p0 ys-framework-product-body" ng-class="{'folding':foldingStatus=='1'}">
        <div class="ys-framework-product-body-left">
            <div treecontrol class="col-xs-12 p0 pt20 ys-framework-tree ys-framework-tree-simple"
                 tree-model="[$app.dictionary.LAYOUTS.root]"
                 expanded-nodes="expandedLayouts"
                 selected-nodes="selectedLayouts"
                 selected-node="selectedNode" on-selection="onSelection">
                {{node.name}}
            </div>
        </div>
        <div class="ys-product-navbar-collapse" ng-class="{'fold':foldingStatus=='1'}">
            <div class="inner" ng-click="folding()">
                <div class="bg"></div>
                <div class="body">
                    <icon name="indent-1" width="24" height="60"></icon>
                </div>
            </div>
        </div>
        <div class="ys-framework-product-body-right">
            <div class="col-xs-12 p20 ys-product-conditions">
                <div class="search" style="margin-left: 0">
                    <input class="form-control" name="name" placeholder="请输入品牌名称" ng-model="filter.likeNameTemp"/><span
                        ng-click="refresh()"></span>
                </div>
                <button type="button" class="btn btn-default ml15" style="padding: 6px 20px"
                        ng-click="$app.publish('/ys/toggle/panel',{key:'basic-brand-search'})">高级搜索
                </button>
            </div>
            <div class="col-xs-12 pl20 pr0">
                <table class="table mb0 ys-framework-grid">
                    <tr class="rs header">
                        <th>项目</th>
                        <th>品牌名</th>
                        <th>业态</th>
                        <th>审核状态</th>
                        <th>录入日期</th>
                        <th>发起招商</th>
                    </tr>
                    <tbody>
                    <tr>
                        <td colspan="6" style="padding: 0">
                            <div class="col-xs-12 p0 pt20 ys-framework-grid-form" toggle-panel key="basic-brand-search">
                                <div class="col-xs-12 p0 title">
                                    <span>高级搜索</span>
                                    <div class="pull-right">
                                        <button class="btn btn-default"
                                                ng-click="$app.publish('/ys/toggle/panel',{key:'basic-brand-search'})">
                                            收起
                                        </button>
                                    </div>
                                </div>
                                <div class="col-xs-12 body">
                                    <div class="col-xs-10 col-xs-offset-1 form-horizontal pt20 pb20">
                                        <div class="col-xs-6 p0 mb10">
                                            <label class="col-xs-4 control-label">项目</label>
                                            <div class="col-xs-8">
                                                <input class="form-control readonly" readonly placeholder="-- 请选择 --"
                                                       ng-click="setProject()"
                                                       value="{{$parent.$parent.$app.dictionary.PROJECTS.hash[filter.projectId].text}}"/>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 p0">
                                            <label class="col-xs-4 control-label">品牌名</label>
                                            <div class="col-xs-8">
                                                <input type="text" class="form-control"
                                                       placeholder="请输入品牌名称" ng-model="filter.likeNameTemp">
                                            </div>
                                        </div>
                                        <div class="col-xs-12 p0">
                                            <label class="col-xs-2 control-label">审核状态</label>
                                            <div class="col-xs-4">
                                                <input class="form-control readonly" readonly placeholder="-- 请选择 --"
                                                       ys-framework-select="{dictionary:'APPROVAL_STATUS',input:filter,property:'approvalStatusId'}"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="ys-framework-grid-form-line"></div>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                    <tbody ng-repeat="item in pager.results">
                    <tr class="rs pointer" ng-click="pager.selected=pager.selected==item?'':item"
                        ui-sref="basic.info.brand.publish({id:item.id})">
                        <td>
                            {{::$app.dictionary.PROJECTS.hash[item.projectId].text}}
                        </td>
                        <td>
                            {{item.name}}
                        </td>
                        <td>
                            {{::item.layout.name}}
                        </td>
                        <td>
                            {{::$app.dictionary.APPROVAL_STATUS.hash[item.approvalStatusId].text}}
                        </td>
                        <td>
                            {{item.createdDate|date :'yyyy-MM-dd HH:mm'}}
                        </td>
                        <td>
                            <span class="text-primary" ng-if="item.approvalStatusId==1003">开始招商</span>
                            <span class="text-invalid" ng-if="item.approvalStatusId!=1003">未通过审核</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="col-xs-12 no-data" ng-if="!pager.results.length">
                    <icon name="no-data-1" height="100px" width="28px"></icon>
                    未查询到相关数据
                </div>
                <div class="col-xs-12 p0 pagers mt20" ng-if="pager.totalElements">
                    <span class="summary">共{{pager.totalElements||0}}条记录,当前{{pager.page}}/{{pager.totalPages}}页</span>
                    <span class="goto">
                    <input class="text form-control" ng-model="filter.page"/>
                </span>
                    <ul class="pull-right mt0"
                        uib-pagination
                        items-per-page="pager.size"
                        total-items="pager.totalElements"
                        ng-model="filter.page"
                        max-size="filter.maxSize"
                        previous-text="上页" next-text="下页" first-text="首页" last-text="尾页"
                        boundary-links="true"></ul>
                </div>
            </div>
        </div>
    </div>
</div>

